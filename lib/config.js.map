{"version":3,"sources":["../src/config.js"],"names":["require","fs","path","nodeopen","execFun","ip","serverPort","jserverPort","config","fileName","resolve","content","site","staticHost","writeFile","err","console","dir","log","green","underline","module","exports"],"mappings":"AAAA;;AAEA;;;;;;;;;;;AAKAA,QAAQ,QAAR;AACA,MAAMC,KAAKD,QAAQ,IAAR,CAAX;AACA,MAAME,OAAOF,QAAQ,MAAR,CAAb;AACA,MAAMG,WAAWH,QAAQ,UAAR,CAAjB;AACA,MAAMI,UAAUJ,QAAQ,WAAR,CAAhB;AACA,MAAMK,KAAKL,QAAQ,SAAR,GAAX;AACA,MAAMM,aAAa,IAAnB;AACA,MAAMC,cAAc,IAApB;;AAEA;AACA,MAAMC,SAAS,MAAM;AACpB,KAAIC,WAAWP,KAAKQ,OAAL,CAAa,iCAAb,CAAf;AACA,KAAIC,UAAUX,QAAQS,QAAR,CAAd;AACA;AACA;AACA;AACA;AACAE,SAAQC,IAAR,CAAaC,UAAb,GAA2B,UAASR,EAAG,IAAGE,WAAY,EAAtD;;AAEA;AACAN,IAAGa,SAAH,CAAaL,QAAb,EAAuB,yBAAeE,OAAf,EAAwB,IAAxB,EAA8B,IAA9B,CAAvB,EAA4D,OAA5D,EAAsEI,GAAD,IAAS;AAC7E;AACA,MAAIA,GAAJ,EAAS;AACRC,WAAQC,GAAR,CAAYF,GAAZ;AACA;AACD;AACAX,UAAQ,CAAC,QAAD,EAAW,eAAX,CAAR,EAAqC,iBAArC,EAAwD,MAAM;AAC7D;AACAY,WAAQE,GAAR,CAAa,sBAAb,EAAqC,aAAYZ,UAAW,EAAxB,CAA0Ba,KAA1B,CAAgCC,SAApE,EAAgF,IAAhF,EACE,GAAEf,EAAG,IAAGC,UAAW,EAApB,CAAsBa,KAAtB,CAA4BC,SAD7B,EACyC,iCADzC;AAEAjB,YAAU,UAASE,EAAG,IAAGC,UAAW,EAApC,EAAuC,MAAM;AAC5CU,YAAQE,GAAR,CAAa,qBAAb;AACA,IAFD;AAGA;AACA,GARD;AASA,EAfD;AAgBA,CA1BD;;AA4BAG,OAAOC,OAAP,GAAiBd,MAAjB","file":"config.js","sourcesContent":["'use strict';\n\n/**\n * @file 框架配置\n * @author xudeming208@126.com\n */\n\nrequire('colors');\nconst fs = require('fs');\nconst path = require('path');\nconst nodeopen = require('nodeopen');\nconst execFun = require('./execFun');\nconst ip = require('./getIp')();\nconst serverPort = 8083;\nconst jserverPort = 8084;\n\n// config\nconst config = () => {\n\tlet fileName = path.resolve('./mid/server/config/config.json');\n\tlet content = require(fileName);\n\t// let serverPort = Math.random() * 1000 | 0 + 6000;\n\t// let jserverPort = serverPort + 1;\n\t// content.etc.serverPort = serverPort;\n\t// content.etc.jserverPort = jserverPort;\n\tcontent.site.staticHost = `http://${ip}:${jserverPort}`;\n\n\t/* eslint-disable arrow-parens */\n\tfs.writeFile(fileName, JSON.stringify(content, null, '\\t'), 'utf-8', (err) => {\n\t\t/* eslint-enable arrow-parens */\n\t\tif (err) {\n\t\t\tconsole.dir(err);\n\t\t}\n\t\t// exec framework\n\t\texecFun(['cd mid', 'npm run start'], 'framework start', () => {\n\t\t\t/* eslint-disable quotes */\n\t\t\tconsole.log(`In the browser input`, `127.0.0.1:${serverPort}`.green.underline, `or`,\n\t\t\t\t`${ip}:${serverPort}`.green.underline, `, and then can see the pages.\\n`);\n\t\t\tnodeopen(`http://${ip}:${serverPort}`, () => {\n\t\t\t\tconsole.log(`browser has opened!`);\n\t\t\t});\n\t\t\t/* eslint-enable quotes */\n\t\t});\n\t});\n};\n\nmodule.exports = config;\n"]}